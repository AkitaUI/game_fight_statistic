{% extends "base.html" %}

{% block content %}
<section class="card">
    <div class="card-header">
        <h1>Players</h1>
        <div class="card-actions">
            <span id="selected-game-badge" class="badge" style="display:none;"></span>
            <button id="reload-players-btn" class="btn">Reload</button>
        </div>
    </div>

    <div class="card-body">
        <div id="game-required-warning" class="alert" style="display:none; margin-bottom: 12px;">
            Please select a game in the top-right selector to load players.
        </div>

        <div class="filters">
            <label>
                Search:
                <input type="text" id="players-search-input" placeholder="Nickname contains...">
            </label>
        </div>

        <table class="data-table" id="players-table">
            <thead>
            <tr>
                <th>ID</th>
                <th>Nickname</th>
                <th>Created at</th>
                <th>User ID</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            <!-- наполняется через JS -->
            </tbody>
        </table>

        <div class="pagination">
            <button id="players-prev" class="btn btn-secondary" disabled>Prev</button>
            <span id="players-page-info"></span>
            <button id="players-next" class="btn btn-secondary" disabled>Next</button>
        </div>
    </div>
</section>

<section class="card" id="player-summary-card" style="display: none;">
    <div class="card-header">
        <h2>Player summary</h2>
    </div>
    <div class="card-body">
        <pre id="player-summary-content" class="pre-block"></pre>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener("DOMContentLoaded", function () {
        window.GameStatsUI.initPlayersPage();
    });
</script>
{% endblock %}
